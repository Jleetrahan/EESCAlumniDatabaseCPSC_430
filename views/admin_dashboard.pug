doctype html
html(lang='en')
    head
        title= title
        meta(charset='utf-8')
        meta(name='viewport', content='width=device-width, initial-scale=1')
        link(rel='stylesheet', href='/styles/dashboard.css')
        link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous")
        script(src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous")
        script(src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous")
        script(src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous")

    body
        header
            //  Navbar
            nav.navbar.navbar-expand-lg.navbar-dark.fixed-top
                a.navbar-brand(href='#') EESC Alumni Database
                button.navbar-toggler(type='button' data-toggle='collapse' data-target='#navbarNav' aria-controls='navbarNav' aria-expanded='false' aria-label='Toggle navigation')
                    span.navbar-toggler-icon
                div#navbarNav.collapse.navbar-collapse
                    ul.navbar-nav
                        li.nav-item.active
                            a.nav-link(href='/') Home 
                                span.sr-only (current)
                        li.nav-item
                            a.nav-link.disabled(href='#') Pending
                        li.nav-item
                            a.nav-link.disabled(href='#') Logout

        main
            div.buffer
            div.container.mt-3
                button.btn.btn-outline-success.btn-sm.mb-1(href='#'  data-toggle='modal' data-target='#form_modal' data-type='Add') Add Entry

                // Table
                table.table.table-hover
                    thead
                        tr
                            th(scope='col') First Name
                            th(scope='col') Last Name
                            th(scope='col') Grad Year
                            th(scope='col') Degree Type
                            th(scope='col') Occupation
                            th(scope='col') Email
                            th(scope='col') Email List
                            th.hidden Edit
                            th.hidden Delete
                    tbody
                        - alumni_list.sort(function(a, b) {let textA = a.lastName.toUpperCase(); let textB = b.lastName.toUpperCase(); return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;});
                        each alumni in alumni_list
                            tr(id=alumni.id)
                                td #{alumni.firstName}
                                td #{alumni.lastName}
                                td #{alumni.gradYear}
                                td #{alumni.degreeType}
                                td #{alumni.occupation}
                                td #{alumni.email}
                                td #{alumni.emailList}
                                td.px-0
                                    button.btn.btn-secondary.btn-sm.mr-3(data-toggle='modal' data-target='#form_modal' data-type='Update') Update
                                td.px-0
                                    button.btn.btn-danger.btn-sm Delete

        // Form Modal
        div#form_modal.modal.fade(tabindex='-1' aria-labelledby='exampleModalLabel' aria-hidden='true')
            div.modal-dialog
                div.modal-content
                    div.modal-header
                        h5.modal-title
                        button.close(type='button' data-dismiss='modal' aria-label='Close')
                        span(aria-hidden='true') &times;
                    div.modal-body
                        form.alumni_form
                            div#errorList.text-danger
                            div.form-row
                                div.col
                                    div.form-group
                                        label(for='firstName') First Name
                                        input#firstName.form-control(type='text' name='firstName')
                                div.col
                                    div.form-group
                                        label(for='lastName') Last Name
                                        input#lastName.form-control(type='text' name='lastName')
                            div.form-group
                                label(for='email') Email
                                input#email.form-control(type='email' name='email')
                            div.form-row
                                div.col
                                    div.form-group
                                        label(for='gradYear') Graduation Year
                                        input#gradYear.form-control(type='number' name='gradYear')
                                div.col
                                    div.form-group
                                        label(for='degreeType') Degree
                                        input#degreeType.form-control(type='text' name='degreeType')
                            div.form-group
                                label(for='occupation') Occupation
                                input#occupation.form-control(type='text' name='occupation')
                            div.form-group
                                label(for='description') Description
                                textarea#description.form-control(type='text' name='description')
                            div.form-group.form-check
                                input#emailList.form-check-input(type='checkbox')
                                label.form-check-label(for='emailList') Would you like to recieve emails from UMW?
                            button.btn.btn-secondary.mr-2(type='button' data-dismiss='modal') Close
                            button.btn.btn-primary(type='submit') Submit


                        


        script(src='/scripts/dashboard.js')

